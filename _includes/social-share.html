<section class="grid-center padded-5 padded-t-0 padded-b-10">
  <div class="col-12-center text-center">

    <hr class="short text-center"> 
    <h4 class="margin-b-05">share the love</h4>

    {% assign share_url = page.url | absolute_url %}
    {% assign share_title = page.title | default: site.title %}
    {% assign share_image = page.seo.social_image | default: page.featured_image | default: site.social_image %}

    <nav class="social-share">

      <!-- Instagram → mobiel: native share sheet (Instagram verschijnt als optie), desktop: copy link -->
      <a href="#"
         class="share-instagram"
         data-url="{{ share_url }}"
         data-title="{{ share_title | escape }}"
         title="Delen via Instagram"
         aria-label="Delen via Instagram">
        <i class="fab fa-instagram padded-r-1"></i>
      </a>

      <!-- Facebook -->
      <a href="https://www.facebook.com/sharer/sharer.php?u={{ share_url | uri_escape }}"
         rel="nofollow"
         target="_blank"
         title="Deel op Facebook"
         aria-label="Deel op Facebook">
        <i class="fab fa-facebook-f padded-r-1"></i>
      </a>

      <!-- Pinterest (absolute URL + media image) -->
      <a href="https://www.pinterest.com/pin/create/button/?url={{ share_url | uri_escape }}{% if share_image %}&media={{ share_image | absolute_url | uri_escape }}{% endif %}&description={{ share_title | uri_escape }}"
         rel="nofollow"
         target="_blank"
         title="Bewaar op Pinterest"
         aria-label="Bewaar op Pinterest">
        <i class="fab fa-pinterest-p"></i>
      </a>

    </nav>

  </div>
</section>

<script>
  document.addEventListener("click", async (e) => {
    const igBtn = e.target.closest(".share-instagram");
    if (!igBtn) return;

    e.preventDefault();

    const url = igBtn.getAttribute("data-url");
    const title = igBtn.getAttribute("data-title") || document.title;

    // Mobiel: native share sheet (Instagram kan verschijnen als optie)
    if (navigator.share) {
      try {
        await navigator.share({ title, url });
      } catch (err) {
        // gebruiker annuleert vaak → geen melding nodig
      }
      return;
    }

    // Desktop fallback: copy link
    try {
      await navigator.clipboard.writeText(url);
      alert("Link gekopieerd! Plak deze in je Instagram caption, story of bio.");
    } catch (err) {
      prompt("Kopieer deze link:", url);
    }
  });
</script>
